{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport { io } from 'socket.io-client';\nconst useSocket = serverUrl => {\n  _s();\n  const socketRef = useRef(null);\n  useEffect(() => {\n    socketRef.current = io(serverUrl);\n    return () => {\n      var _socketRef$current;\n      (_socketRef$current = socketRef.current) === null || _socketRef$current === void 0 ? void 0 : _socketRef$current.disconnect();\n    };\n  }, [serverUrl]);\n  const sendMessage = message => {\n    var _socketRef$current2;\n    (_socketRef$current2 = socketRef.current) === null || _socketRef$current2 === void 0 ? void 0 : _socketRef$current2.emit('sendMessage', message);\n  };\n  const onMessageReceived = callback => {\n    var _socketRef$current3;\n    (_socketRef$current3 = socketRef.current) === null || _socketRef$current3 === void 0 ? void 0 : _socketRef$current3.on('messageReceived', callback);\n  };\n  const onUserStatusUpdate = callback => {\n    var _socketRef$current4;\n    (_socketRef$current4 = socketRef.current) === null || _socketRef$current4 === void 0 ? void 0 : _socketRef$current4.on('userStatusUpdate', callback);\n  };\n  return {\n    sendMessage,\n    onMessageReceived,\n    onUserStatusUpdate\n  };\n};\n_s(useSocket, \"8c0rAI93JE8jpOVTnobt43KkFfY=\");\nexport default useSocket;","map":{"version":3,"names":["useEffect","useRef","io","useSocket","serverUrl","_s","socketRef","current","_socketRef$current","disconnect","sendMessage","message","_socketRef$current2","emit","onMessageReceived","callback","_socketRef$current3","on","onUserStatusUpdate","_socketRef$current4"],"sources":["C:/Users/user/OneDrive/Desktop/PLP/Mern Stack/socket-io-chat-app/frontend/src/hooks/useSocket.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { io, Socket } from 'socket.io-client';\n\nconst useSocket = (serverUrl: string) => {\n  const socketRef = useRef<Socket | null>(null);\n\n  useEffect(() => {\n    socketRef.current = io(serverUrl);\n\n    return () => {\n      socketRef.current?.disconnect();\n    };\n  }, [serverUrl]);\n\n  const sendMessage = (message: string) => {\n    socketRef.current?.emit('sendMessage', message);\n  };\n\n  const onMessageReceived = (callback: (message: string) => void) => {\n    socketRef.current?.on('messageReceived', callback);\n  };\n\n  const onUserStatusUpdate = (callback: (status: { userId: string; online: boolean }) => void) => {\n    socketRef.current?.on('userStatusUpdate', callback);\n  };\n\n  return {\n    sendMessage,\n    onMessageReceived,\n    onUserStatusUpdate,\n  };\n};\n\nexport default useSocket;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,EAAE,QAAgB,kBAAkB;AAE7C,MAAMC,SAAS,GAAIC,SAAiB,IAAK;EAAAC,EAAA;EACvC,MAAMC,SAAS,GAAGL,MAAM,CAAgB,IAAI,CAAC;EAE7CD,SAAS,CAAC,MAAM;IACdM,SAAS,CAACC,OAAO,GAAGL,EAAE,CAACE,SAAS,CAAC;IAEjC,OAAO,MAAM;MAAA,IAAAI,kBAAA;MACX,CAAAA,kBAAA,GAAAF,SAAS,CAACC,OAAO,cAAAC,kBAAA,uBAAjBA,kBAAA,CAAmBC,UAAU,CAAC,CAAC;IACjC,CAAC;EACH,CAAC,EAAE,CAACL,SAAS,CAAC,CAAC;EAEf,MAAMM,WAAW,GAAIC,OAAe,IAAK;IAAA,IAAAC,mBAAA;IACvC,CAAAA,mBAAA,GAAAN,SAAS,CAACC,OAAO,cAAAK,mBAAA,uBAAjBA,mBAAA,CAAmBC,IAAI,CAAC,aAAa,EAAEF,OAAO,CAAC;EACjD,CAAC;EAED,MAAMG,iBAAiB,GAAIC,QAAmC,IAAK;IAAA,IAAAC,mBAAA;IACjE,CAAAA,mBAAA,GAAAV,SAAS,CAACC,OAAO,cAAAS,mBAAA,uBAAjBA,mBAAA,CAAmBC,EAAE,CAAC,iBAAiB,EAAEF,QAAQ,CAAC;EACpD,CAAC;EAED,MAAMG,kBAAkB,GAAIH,QAA+D,IAAK;IAAA,IAAAI,mBAAA;IAC9F,CAAAA,mBAAA,GAAAb,SAAS,CAACC,OAAO,cAAAY,mBAAA,uBAAjBA,mBAAA,CAAmBF,EAAE,CAAC,kBAAkB,EAAEF,QAAQ,CAAC;EACrD,CAAC;EAED,OAAO;IACLL,WAAW;IACXI,iBAAiB;IACjBI;EACF,CAAC;AACH,CAAC;AAACb,EAAA,CA5BIF,SAAS;AA8Bf,eAAeA,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}